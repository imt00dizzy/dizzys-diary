<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>@dizzy</title>
<link rel="icon" href="jaydes.jpeg" type="image/jpeg">

<style>
*{margin:0;padding:0;box-sizing:border-box}

:root {
  --primary: #8b5cf6;
  --primary-dark: #7c3aed;
  --bg: #000;
  --card-bg: #111018;
  --section-bg: #0e0d14;
  --border: #2b2740;
  --text: #fff;
  --text-secondary: #a1a1b5;
  --text-muted: #8f8aa8;
}

body{
font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial,sans-serif;
background:var(--bg);
color:var(--text);
min-height:100vh;
display:flex;
justify-content:center;
align-items:center;
overflow:hidden;
position:relative;
}

#particles {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

#enter-screen{
position:fixed;
inset:0;
background:#000;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
z-index:999;
cursor:pointer;
transition:opacity .6s ease,visibility .6s ease;
backdrop-filter: blur(4px);
}

#enter-screen.hidden{
opacity:0;
visibility:hidden;
pointer-events:none;
}

#enter-text{
font-size:13px;
letter-spacing:1px;
color:var(--text-secondary);
text-transform:lowercase;
margin-bottom:20px;
transition:transform 0.3s ease;
}

#enter-text:hover {
  transform: translateY(-2px);
}

.enter-hint {
  font-size: 11px;
  color: var(--text-muted);
  margin-top: 10px;
  opacity: 0.7;
}

.card{
background:var(--card-bg);
border-radius:20px;
padding:60px 40px 50px;
max-width:380px;
width:100%;
text-align:center;
box-shadow:0 0 0 1px rgba(139,92,246,.08),0 20px 40px rgba(0,0,0,.6);
z-index:2;
position:relative;
backdrop-filter: blur(10px);
border: 1px solid rgba(139, 92, 246, 0.1);
transition: transform 0.3s ease;
}

.card:hover {
  transform: translateY(-5px);
}

.avatar{
width:110px;
height:110px;
border-radius:50%;
margin:0 auto 24px;
overflow:hidden;
border:3px solid var(--border);
position:relative;
transition: border-color 0.3s ease, transform 0.3s ease;
}

.avatar:hover {
  border-color: var(--primary);
  transform: scale(1.05);
}

.avatar img{
width:100%;
height:100%;
object-fit:cover;
}

.username{
font-size:28px;
font-weight:600;
margin-bottom:28px;
background: linear-gradient(45deg, var(--primary), #c4b5fd);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
}

.section{
background:var(--section-bg);
border:1px solid var(--border);
border-radius:12px;
padding:14px;
display:flex;
gap:12px;
align-items:center;
cursor:pointer;
transition: all 0.3s ease;
position:relative;
overflow:hidden;
}

.section::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(139, 92, 246, 0.1), transparent);
  transition: left 0.6s ease;
}

.section:hover::before {
  left: 100%;
}

.section:hover{
border-color:var(--primary);
transform: translateY(-2px);
box-shadow: 0 5px 15px rgba(139, 92, 246, 0.2);
}

.section img{
width:56px;
height:56px;
border-radius:6px;
object-fit:cover;
background:var(--border);
transition: transform 0.3s ease;
}

.section:hover img {
  transform: scale(1.05);
}

.info{
flex:1;
text-align:left;
overflow:hidden;
}

.label{
font-size:11px;
color:var(--text-muted);
margin-bottom:6px;
text-transform:lowercase;
letter-spacing:0.5px;
}

.title{
font-size:14px;
font-weight:500;
white-space: nowrap;
overflow: hidden;
text-overflow: ellipsis;
}

.artist{
font-size:12px;
color:var(--text-secondary);
opacity:.75;
white-space: nowrap;
overflow: hidden;
text-overflow: ellipsis;
}

.socials{
display:flex;
justify-content:center;
gap:22px;
margin-top:30px;
}

.socials a{
width:44px;
height:44px;
border-radius:12px;
display:flex;
align-items:center;
justify-content:center;
position:relative;
transition:.2s;
background:var(--section-bg);
border:1px solid var(--border);
text-decoration:none;
overflow:hidden;
}

.socials a::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--primary);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.socials a:hover{
transform:translateY(-4px) scale(1.1);
border-color:var(--primary);
box-shadow: 0 5px 15px rgba(139, 92, 246, 0.3);
}

.socials a:hover::after {
  opacity: 0.1;
}

.socials img{
width:22px;
height:22px;
object-fit:contain;
z-index: 1;
position: relative;
}

.link-icon{
position:absolute;
bottom:6px;
right:6px;
width:10px;
height:10px;
opacity:.6;
z-index: 2;
}

.socials a:first-child .link-icon {
  display: none;
}

#site-player{
position:fixed;
bottom:22px;
right:22px;
background:linear-gradient(135deg, var(--section-bg), #141225);
border:1px solid rgba(139,92,246,.25);
border-radius:14px;
padding:12px 14px;
display:flex;
gap:10px;
align-items:center;
box-shadow:0 10px 30px rgba(0,0,0,.6);
z-index:3;
cursor:pointer;
transition: all 0.3s ease;
backdrop-filter: blur(10px);
}

#site-player:hover {
  transform: translateY(-3px);
  border-color: var(--primary);
  box-shadow: 0 15px 35px rgba(139, 92, 246, 0.3);
}

#site-player img{
width:44px;
height:44px;
border-radius:8px;
object-fit:cover;
transition: transform 0.3s ease;
position: relative;
}

#site-player:hover img {
  transform: scale(1.1);
}

#site-player .meta{
display:flex;
flex-direction:column;
gap:2px;
min-width: 140px;
position: relative;
}

#site-player .now{
font-size:10px;
letter-spacing:.5px;
color:var(--primary);
text-transform:lowercase;
font-weight: 500;
}

#site-player .song{
font-size:13px;
font-weight:500;
white-space: nowrap;
overflow: hidden;
text-overflow: ellipsis;
}

#site-player .by{
font-size:11px;
color:var(--text-secondary);
opacity:.8;
}

.volume-container {
  position: fixed;
  bottom: 22px;
  left: 22px;
  background: var(--section-bg);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 10px 15px;
  z-index: 3;
  backdrop-filter: blur(10px);
  display: flex;
  align-items: center;
  gap: 10px;
}

.volume-slider {
  -webkit-appearance: none;
  width: 80px;
  height: 4px;
  border-radius: 2px;
  background: var(--border);
  outline: none;
}

.volume-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: var(--primary);
  cursor: pointer;
}

.volume-icon {
  width: 16px;
  height: 16px;
  opacity: 0.7;
}

@media (max-width: 768px) {
  .card {
    margin: 20px;
    padding: 40px 20px 30px;
  }
  
  #site-player {
    bottom: 70px;
    right: 20px;
    left: 20px;
    justify-content: center;
  }
  
  .volume-container {
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
  }
}

.loading {
  opacity: 0.5;
  pointer-events: none;
}

.pulse {
  animation: pulse 1.5s infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}
</style>
</head>

<body>

<div id="particles"></div>

<div id="enter-screen">
<div id="enter-text">click to enter</div>
<div class="enter-hint">music will start playing (looped)</div>
</div>

<audio id="site-audio" src="gohomebyjaydes.mp3" loop></audio>

<div class="card">

<div class="avatar">
<img src="https://i.pinimg.com/736x/83/8b/90/838b90c701145ff38b424dbf9dd0057d.jpg">
</div>

<div class="username">dizzy</div>

<div id="lastfm" class="section">
<img id="lfm-art" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3E%3Crect width='56' height='56' fill='%232b2740'/%3E%3C/svg%3E">
<div class="info">
<div id="lfm-label" class="label pulse">connecting...</div>
<div id="lfm-title" class="title">—</div>
<div id="lfm-artist" class="artist">—</div>
</div>
</div>

<div class="socials">
<a href="#" title="add me on discord">
<img src="discord.webp" alt="discord">
</a>

<a href="https://github.com/imt00dizzy" title="see my projects on github">
<img src="github.webp" alt="github">
</a>

<a href="https://sciencerules.xyz" title="sciencerules! free 'educational' games to play at school *wink*">
<img src="sciencerules.png" alt="science">
</a>
</div>

</div>

<div id="site-player">
<img src="jaydes.jpeg">
<div class="meta">
<div class="now">playing on site</div>
<div class="song">go home</div>
<div class="by">jaydes</div>
</div>
</div>

<div class="volume-container">
<svg class="volume-icon" viewBox="0 0 24 24" fill="currentColor">
<path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
</svg>
<input type="range" class="volume-slider" min="0" max="100" value="50">
</div>

<script>
class TabTitleTypewriter {
  constructor() {
    this.fullPhrase = "@dizzy";
    this.currentText = "@";
    this.currentCharIndex = 1;
    this.isDeleting = false;
    this.isWaiting = false;
    this.typeSpeed = 100;
    this.deleteSpeed = 120;
    this.waitTime = 1000;
    
    this.init();
  }
  
  init() {
    document.title = this.currentText;
    
    document.addEventListener('visibilitychange', () => {
      if (document.hidden) {
        document.title = this.fullPhrase;
      } else {
        setTimeout(() => this.type(), 100);
      }
    });
    
    setTimeout(() => this.type(), 1000);
  }
  
  type() {
    if (document.hidden) {
      return;
    }
    
    if (this.isWaiting) {
      setTimeout(() => {
        this.isWaiting = false;
        this.type();
      }, this.waitTime);
      return;
    }
    
    if (this.isDeleting) {
      this.currentText = this.currentText.slice(0, -1);
      document.title = this.currentText;
      
      if (this.currentText === "") {
        this.isDeleting = false;
        this.currentCharIndex = 1;
        this.isWaiting = true;
      }
      
      setTimeout(() => this.type(), this.deleteSpeed);
    } else {
      this.currentText = this.fullPhrase.substring(0, this.currentCharIndex);
      document.title = this.currentText;
      this.currentCharIndex++;
      
      if (this.currentText === this.fullPhrase) {
        this.isDeleting = true;
        setTimeout(() => this.type(), this.deleteSpeed);
        return;
      }
      
      setTimeout(() => this.type(), this.typeSpeed);
    }
  }
}

const enter = document.getElementById("enter-screen");
const audio = document.getElementById("site-audio");
const particlesContainer = document.getElementById("particles");
const volumeSlider = document.querySelector('.volume-slider');

audio.volume = 0.5;
audio.loop = true;

new TabTitleTypewriter();

enter.onclick = async() => {
  try {
    await audio.play();
    enter.classList.add("hidden");
    localStorage.setItem('siteEntered', 'true');
  } catch(err) {
    enter.classList.add("hidden");
  }
}

if (localStorage.getItem('siteEntered') === 'true') {
  enter.classList.add("hidden");
  audio.play().catch(() => {});
}

volumeSlider.addEventListener('input', (e) => {
  audio.volume = e.target.value / 100;
});

const user = "imt00dizzy"
const key = "e2e7ca68b80856cf1e57b3d891717f71"

const lfmArt = document.getElementById("lfm-art")
const lfmTitle = document.getElementById("lfm-title")
const lfmArtist = document.getElementById("lfm-artist")
const lfmLabel = document.getElementById("lfm-label")
const lfmBox = document.getElementById("lastfm")

async function updateLastfm() {
  try {
    const r = await fetch(`https://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user=${user}&api_key=${key}&format=json&limit=1`)
    const d = await r.json()
    const t = d.recenttracks?.track?.[0]
    
    if (t) {
      lfmTitle.textContent = t.name || "—"
      lfmArtist.textContent = t.artist?.["#text"] || "—"
      lfmArt.src = t.image?.[2]?.["#text"] || "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='56' height='56' viewBox='0 0 56 56'%3E%3Crect width='56' height='56' fill='%232b2740'/%3E%3C/svg%3E"
      lfmLabel.textContent = t["@attr"]?.nowplaying ? "now playing" : "last listened to"
      lfmBox.onclick = () => window.open(t.url, "_blank")
      lfmBox.classList.remove("loading")
    }
  } catch(err) {
    lfmLabel.textContent = "offline"
    lfmLabel.classList.remove("pulse")
  }
}

updateLastfm()
setInterval(updateLastfm, 15000)

class Particle {
  constructor(canvas) {
    this.canvas = canvas;
    this.ctx = canvas.getContext('2d');
    this.x = Math.random() * canvas.width;
    this.y = Math.random() * canvas.height;
    this.size = Math.random() * 2 + 0.5;
    this.speedX = Math.random() * 0.5 - 0.25;
    this.speedY = Math.random() * 0.5 - 0.25;
    this.color = `rgba(139, 92, 246, ${Math.random() * 0.3 + 0.1})`;
  }
  
  update() {
    this.x += this.speedX;
    this.y += this.speedY;
    
    if (this.x > this.canvas.width) this.x = 0;
    else if (this.x < 0) this.x = this.canvas.width;
    if (this.y > this.canvas.height) this.y = 0;
    else if (this.y < 0) this.y = this.canvas.height;
  }
  
  draw() {
    this.ctx.fillStyle = this.color;
    this.ctx.beginPath();
    this.ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
    this.ctx.fill();
  }
}

function initParticles() {
  const canvas = document.createElement('canvas');
  particlesContainer.appendChild(canvas);
  const ctx = canvas.getContext('2d');
  
  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  
  resizeCanvas();
  window.addEventListener('resize', resizeCanvas);
  
  const particles = [];
  const particleCount = Math.min(100, Math.floor((window.innerWidth * window.innerHeight) / 10000));
  
  for (let i = 0; i < particleCount; i++) {
    particles.push(new Particle(canvas));
  }
  
  function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    particles.forEach(particle => {
      particle.update();
      particle.draw();
    });
    
    requestAnimationFrame(animate);
  }
  
  animate();
}

document.addEventListener('DOMContentLoaded', () => {
  initParticles();
  
  document.addEventListener('keydown', (e) => {
    if (e.code === 'Space') {
      e.preventDefault();
      if (audio.paused) {
        audio.play();
      } else {
        audio.pause();
      }
    }
    if (e.code === 'KeyM') {
      audio.muted = !audio.muted;
    }
  });
  
  document.getElementById('site-player').addEventListener('click', () => {
    if (audio.paused) {
      audio.play();
    } else {
      audio.pause();
    }
  });
  
  audio.addEventListener('play', () => {
    document.querySelector('#site-player .now').textContent = 'now playing';
  });
  
  audio.addEventListener('pause', () => {
    document.querySelector('#site-player .now').textContent = 'paused';
  });
});

document.querySelectorAll('[title]').forEach(el => {
  el.addEventListener('mouseenter', (e) => {
    const tooltip = document.createElement('div');
    tooltip.className = 'tooltip';
    tooltip.textContent = e.target.title;
    tooltip.style.cssText = `
      position: fixed;
      background: var(--section-bg);
      color: var(--text);
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      border: 1px solid var(--border);
      z-index: 9999;
      pointer-events: none;
    `;
    document.body.appendChild(tooltip);
    
    const rect = e.target.getBoundingClientRect();
    tooltip.style.left = `${rect.left + rect.width / 2}px`;
    tooltip.style.top = `${rect.top - 30}px`;
    tooltip.style.transform = 'translateX(-50%)';
    
    e.target._tooltip = tooltip;
  });
  
  el.addEventListener('mouseleave', (e) => {
    if (e.target._tooltip) {
      e.target._tooltip.remove();
      delete e.target._tooltip;
    }
  });
});
</script>

</body>
</html>